name: Test Build Executable

on:
  workflow_dispatch:

jobs:
  build-execution:
    strategy:
      max-parallel: 1
      matrix:
        forceClientAutoUpdate: [true, false]
        buildClient:
          - Build only on macOS
          - Build only on Windows
          - Build on both macOS and Windows
        buildServer:
          - Build only on macOS
          - Build only on Windows
          - Build on both macOS and Windows

    runs-on: ubuntu-latest
    steps:
      - name: test build executable
        uses: ./.github/workflows/build-executable@Separated-executable-build
        with:
          mode: patch
          forceClientAutoUpdate: ${{ matrix.forceClientAutoUpdate }}
          buildClient: ${{ matrix.buildClient }}
          buildServer: ${{ matrix.buildServer }}
